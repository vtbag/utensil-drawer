<!doctype html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="icon" href="/favicon.svg" type="image/svg+xml" />
	<title>Page 3</title>
	<script type="module">
		import { escapeViewTransitionName } from "/escape-view-transition-name.js";
		console.log("SHAKA!");
		const tests = ["üòÄ\x07\f üêçüöÄ", "5555", "-5s55", "--55",
			"\x00\x01\x02\x03\x04\x05\x06\x07\x08\x09\x0A\x0B\x0C\x0D\x0E\x0F\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1A\x1B\x1C\x1D\x1E\x1F !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\x7f",
			"\u{100}\u{101}\u{102}\u{103}\u{104}\u{105}\u{106}\u{107}\u{108}\u{109}\u{10A}\u{10B}\u{10C}\u{10D}\u{10E}\u{10F}\u{110}\u{111}\u{112}\u{113}\u{114}\u{115}\u{116}\u{117}\u{118}\u{119}\u{11A}\u{11B}\u{11C}\u{11D}\u{11E}\u{11F}"
		];
		let i = 0;
		let name1, name2;
		for (const test of tests) {
			if (document.startViewTransition) {
				const cssEscape = CSS.escape(test);
				const escape = escapeViewTransitionName(test);
				console.log(test);
				console.log(cssEscape);
				document.body.style.viewTransitionName = "";
				document.body.style.viewTransitionName = cssEscape;
				console.log(name1 = document.body.style.viewTransitionName);
				if (document.body.style.viewTransitionName === "") break;

				document.body.style.viewTransitionName = "";
				console.log(escape);
				document.body.style.viewTransitionName = escape;
				console.log(name2 = document.body.style.viewTransitionName);
				if (document.body.style.viewTransitionName === "") break;
				if (name1 !== name2) break;
			}
			++i;
		}
		console.log("test", i);
	</script>
</head>

<body>
	<h1>Page 3</h1>
</body>

</html>